DashboardApp
============
### Creating the work environment
* Run VS2015, create a new empty ASP.NET 4 project and install `UmbracoCMS` as a NuGet.
* Set `Build Action` for `DashboardApp\umbraco\Xslt\Web.config` to `None`.
* Build and run solution. When installing Umbraco choose for Fanoe Starter kit.
* Add `.gitignore` for Visual Studio and add extra block for Umbraco at the end:

```
    # Umbraco
    # Ignore unimportant folders generated by Umbraco
    **/App_Data/Logs/
    **/App_Data/[Pp]review/
    **/App_Data/TEMP/
    **/App_Data/NuGetBackup/
    
    # Ignore Umbraco content cache file
    **/App_Data/umbraco.config
    
    # Don't ignore Umbraco packages (VisualStudio.gitignore mistakes this 
    # for a NuGet packages folder)
    # Make sure to include details from VisualStudio.gitignore BEFORE this
    !**/App_Data/[Pp]ackages/
    !**/[Uu]mbraco/[Dd]eveloper/[Pp]ackages
    
    # ImageProcessor DiskCache
    **/App_Data/cache/
``` 
* Add the solution it to `GitHub` using `Git for Windows` and make initial commit.
* Initialize GitFlow with SourceTree. Commit to GitHub. Now we are at the `develop` branch.
* If you check in some files by mistake, delete them like this:
    > `git rm DashboardApp/App_Data/TEMP -r -f`  
    > `git rm DashboardApp/App_Data/Logs -r -f`  
    > `git rm DashboardApp/App_Data/cache -r -f`
  
  and don't forget to check in these changes again.
* When Visual Studio Online tries to build your project it will try and transform 
  any web.config files in there so you need to change the `build action` 
  on the `web.config` file within your `XSLT` folder, from `Content` to `None`:

### Bundling and minifying
* Add `bundleconfig.json` file to the project directory.
* Start Umbraco dashboard and open the `Main` template. 
* Go to `Settings|Templates|Master` and add css and js links to your bundled and 
  minified files instead of standard links. 

### Deployment to Azure Web Services
* Log in to the [Azure Portal](http://portal.azure.com)
* Create a new Web App: `DashboardApp58` with `F1` plan
* Start the new [Web App](http://dashboardapp58.azurewebsites.net) 
  and make sure that it is working. Now, we can start deployment process.
* Right mouse click the project and choose `Publish`.
* Choose now `Microsoft Azure App Services` deployment profile and the website name, we
  have just created. 

## ARCHIVE
### Creating the work environment
This was part of the workflow when I tried to use the original course solution.
Unfortunately, I ran into too many problems with server 500 errors when publishing
the solution to Azure Web Services. Locally, I had no problems whatsoever.
* Create DashboardApp database in the `(local)\SQLLocalDB` instance
* Open the query window in SSMS on DashboardApp
* Run the `dbinit.sql` in DashboardApp
* Build and run the solution in Visual Studio 2015. 
  You should see the dashboard as in the course.

### Bundling and minifying
* Replace if necessary the links to css and js libraries with those from [CDN](https://cdnjs.com)
  * `bootstrap`
  * `font-awesome`
  * `jquery`
  * `modernizr`
  * etc.
  This is essential when moving the website to Azure because the outgoing traffic 
  is commoditized.
* To bundle css and js files that are not in CDN **before** `Visual Studio 2015` was used Bundler. 
  In the `App_Start` directory look at the `BundleConfig.cs` file. Bundler was excluded
  from `Visual Studio 2015` and added to the `Web Essentials` plugin called `Bundler and Minifier`.
* `Bundler and Minifier` can be installed via `NuGet`. After that we just add `bundleconfig.json`      file to the project route. Hier is an example:
```json
[
    {
        "includeInProject": true,
        "inputFiles": [
            "Content/*.css",
            "!Content/bootstrap*.css",
            "!Content/font*.css",
            "!Content/site.css"
        ],
        "minify": {
            "commentMode": "none",
            "enabled": true
        },
        "outputFileName": "css/lib.css",
        "sourceMaps": false
    },
    {
        "includeInProject": true,
        "inputFiles": [
            "Content/site.css"
        ],
        "minify": {
            "commentMode": "none",
            "enabled": true
        },
        "outputFileName": "css/styles.css",
        "sourceMaps": false
    },
    {
        "includeInProject": true,
        "inputFiles": [
            "Scripts/metisMenu.js",
            "Scripts/raphael.js",
            "Scripts/morris.js",
            "Scripts/morris-data.js",
            "Scripts/sb-admin-2.js"
        ],
        "minify": {
            "enabled": true
        },
        "outputFileName": "js/lib.js",
        "sourceMaps": true
    }
]
```

* It is important to keep in mind that `JavaScript` minification is somewhat tricky
  if it is not done with annotation.
* #### `TODO` -- find out how to do annotation first like with `ng-annotate`.
